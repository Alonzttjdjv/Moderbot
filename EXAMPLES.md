# üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Bot Platform

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
**–¶–µ–ª—å**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
```json
{
  "welcome_message": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?",
  "auto_responses": {
    "—á–∞—Å—ã —Ä–∞–±–æ—Ç—ã": "–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –ü–Ω-–ü—Ç —Å 9:00 –¥–æ 18:00",
    "–∫–æ–Ω—Ç–∞–∫—Ç—ã": "–ù–∞—à email: support@company.com, —Ç–µ–ª–µ—Ñ–æ–Ω: +7-999-123-45-67",
    "–¥–æ—Å—Ç–∞–≤–∫–∞": "–î–æ—Å—Ç–∞–≤–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1-3 –¥–Ω–µ–π",
    "–≤–æ–∑–≤—Ä–∞—Ç": "–í–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞ –≤–æ–∑–º–æ–∂–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π"
  },
  "working_hours": "–ü–Ω-–ü—Ç 9:00-18:00"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.

### 2. –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä —á–∞—Ç–∞
**–¶–µ–ª—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
```json
{
  "filters": {
    "blocked_words": ["—Å–ø–∞–º", "—Ä–µ–∫–ª–∞–º–∞", "–æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è", "—Å–ø–æ–π–ª–µ—Ä—ã"],
    "auto_delete": true,
    "warn_threshold": 3,
    "mute_duration": 3600
  },
  "commands": {
    "warn": "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "mute": "–ó–∞–≥–ª—É—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –≤—Ä–µ–º—è",
    "ban": "–ó–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –Ω–∞—Ä—É—à–∏—Ç–µ–ª–µ–π.

### 3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–æ—Ç
**–¶–µ–ª—å**: –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
```json
{
  "welcome_message": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –Ø –±—É–¥—É –¥–µ—Ä–∂–∞—Ç—å –≤–∞—Å –≤ –∫—É—Ä—Å–µ –≤—Å–µ—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.",
  "auto_responses": {
    "–Ω–æ–≤–æ—Å—Ç–∏": "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏: [—Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏]",
    "—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ": "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è: [—Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ]",
    "–ø–æ–º–æ—â—å": "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: /–Ω–æ–≤–æ—Å—Ç–∏, /—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, /–ø–æ–º–æ—â—å"
  },
  "broadcast_enabled": true,
  "broadcast_schedule": "09:00, 18:00"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## üõ†Ô∏è –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Telegram Bot

#### –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```python
from bot.telegram_bot import TelegramBot
from database.models import Bot, BotConfig

# –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞
bot = Bot(
    name="My Support Bot",
    platform="telegram",
    token="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"
)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–∞—Ç–∞
config = BotConfig(
    bot_id=bot.id,
    chat_id="-1001234567890",
    welcome_message="–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏.",
    auto_responses={
        "–ø–æ–º–æ—â—å": "–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?",
        "–∫–æ–Ω—Ç–∞–∫—Ç—ã": "–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã: support@example.com"
    }
)
```

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
config.filters = {
    "blocked_words": ["—Å–ø–∞–º", "—Ä–µ–∫–ª–∞–º–∞"],
    "max_message_length": 1000,
    "allow_links": False
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–∞–Ω–¥
config.commands = {
    "info": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏",
    "support": "–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π",
    "status": "–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞"
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç–æ–≤
config.responses = {
    "–ø—Ä–∏–≤–µ—Ç": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?",
    "—Å–ø–∞—Å–∏–±–æ": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –û–±—Ä–∞—â–∞–π—Ç–µ—Å—å –µ—â–µ.",
    "–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è": "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è! –•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è!"
}
```

### Discord Bot

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Discord —Å–µ—Ä–≤–µ—Ä–∞
discord_config = BotConfig(
    bot_id=bot.id,
    chat_id="123456789012345678",  # ID —Å–µ—Ä–≤–µ—Ä–∞
    chat_name="My Discord Server",
    chat_type="guild",
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
    filters={
        "blocked_words": ["—Å–ø–æ–π–ª–µ—Ä", "—Å–ø–∞–º"],
        "auto_delete": True,
        "warn_threshold": 2
    },
    
    # –ö–æ–º–∞–Ω–¥—ã –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞
    commands={
        "kick": "–ö–∏–∫–Ω—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "ban": "–ó–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "clear": "–û—á–∏—Å—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è"
    }
)
```

### VK Bot

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –≥—Ä—É–ø–ø—ã –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è VK –≥—Ä—É–ø–ø—ã
vk_config = BotConfig(
    bot_id=bot.id,
    chat_id="123456789",  # ID –≥—Ä—É–ø–ø—ã
    chat_name="My VK Group",
    chat_type="group",
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è VK
    welcome_message="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à—É –≥—Ä—É–ø–ø—É!",
    auto_responses={
        "–ø—Ä–∞–≤–∏–ª–∞": "–ü—Ä–∞–≤–∏–ª–∞ –≥—Ä—É–ø–ø—ã: [—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞]",
        "–∫–æ–Ω—Ç–∞–∫—Ç—ã": "–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã: [–∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è]"
    }
)
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
```python
import asyncio
from datetime import datetime, time

async def scheduled_broadcast(bot, chat_id, message):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é"""
    current_time = datetime.now().time()
    
    # –£—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ 9:00
    if current_time.hour == 9 and current_time.minute == 0:
        await bot.send_message(chat_id, "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –ù–∞—á–∏–Ω–∞–µ–º —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å.")
    
    # –í–µ—á–µ—Ä–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ 18:00
    elif current_time.hour == 18 and current_time.minute == 0:
        await bot.send_message(chat_id, "–†–∞–±–æ—á–∏–π –¥–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω. –•–æ—Ä–æ—à–µ–≥–æ –≤–µ—á–µ—Ä–∞!")

# –ó–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
async def start_scheduler():
    while True:
        await scheduled_broadcast(bot, chat_id, message)
        await asyncio.sleep(60)  # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
```

### –£–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
```python
def smart_filter(message_text, config):
    """–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π"""
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ø–∞–º
    if is_spam(message_text):
        return "spam", "–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Å–ø–∞–º"
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è
    if contains_offensive_language(message_text):
        return "offensive", "–°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è"
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–µ–∫–ª–∞–º—É
    if is_advertisement(message_text):
        return "advertisement", "–†–µ–∫–ª–∞–º–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–∞"
    
    return "ok", None

def is_spam(text):
    """–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ø–∞–º–∞"""
    # –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∞–º–∞
    if len(text) > 1000:  # –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        return True
    if text.count('!') > 5:  # –ú–Ω–æ–≥–æ –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
        return True
    return False
```

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```python
class BotAnalytics:
    def __init__(self, bot_id):
        self.bot_id = bot_id
    
    def track_message(self, chat_id, user_id, message_type):
        """–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π"""
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
        message_record = MessageRecord(
            bot_id=self.bot_id,
            chat_id=chat_id,
            user_id=user_id,
            message_type=message_type,
            timestamp=datetime.now()
        )
        db.add(message_record)
        db.commit()
    
    def get_chat_stats(self, chat_id):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–∞—Ç–∞"""
        stats = db.query(MessageRecord).filter(
            MessageRecord.bot_id == self.bot_id,
            MessageRecord.chat_id == chat_id
        ).all()
        
        return {
            "total_messages": len(stats),
            "unique_users": len(set(s.user_id for s in stats)),
            "message_types": self._count_message_types(stats)
        }
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```python
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
async def custom_info_command(update, context):
    """–ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ /info"""
    chat_id = str(update.effective_chat.id)
    config = get_bot_config(bot_id, chat_id)
    
    info_text = f"""
üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ:
‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏–µ: {config.bot.name}
‚Ä¢ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: {config.bot.platform}
‚Ä¢ –°—Ç–∞—Ç—É—Å: {'–ê–∫—Ç–∏–≤–µ–Ω' if config.bot.is_active else '–ù–µ–∞–∫—Ç–∏–≤–µ–Ω'}
‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: {config.message_count}
‚Ä¢ –°–æ–∑–¥–∞–Ω: {config.created_at.strftime('%d.%m.%Y')}
    """
    
    await update.message.reply_text(info_text)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
application.add_handler(CommandHandler("info", custom_info_command))
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
```python
from telegram import InlineKeyboardButton, InlineKeyboardMarkup

async def show_settings_menu(update, context):
    """–ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–µ–∫"""
    keyboard = [
        [InlineKeyboardButton("üìù –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ", callback_data="edit_welcome")],
        [InlineKeyboardButton("ü§ñ –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã", callback_data="edit_responses")],
        [InlineKeyboardButton("üö´ –§–∏–ª—å—Ç—Ä—ã", callback_data="edit_filters")],
        [InlineKeyboardButton("üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", callback_data="show_stats")]
    ]
    
    reply_markup = InlineKeyboardMarkup(keyboard)
    await update.message.reply_text(
        "–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:",
        reply_markup=reply_markup
    )
```

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### Webhook –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API
```python
from fastapi import FastAPI, Request
import requests

app = FastAPI()

@app.post("/webhook/external")
async def external_webhook(request: Request):
    """Webhook –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤"""
    data = await request.json()
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
    if data.get("type") == "notification":
        chat_id = data.get("chat_id")
        message = data.get("message")
        
        # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞
        await bot.send_message(chat_id, message)
    
    return {"status": "ok"}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
# POST /webhook/external
# {
#   "type": "notification",
#   "chat_id": "123456789",
#   "message": "–ù–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ!"
# }
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM
```python
class CRMIntegration:
    def __init__(self, api_key, base_url):
        self.api_key = api_key
        self.base_url = base_url
    
    async def create_ticket(self, user_id, message):
        """–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–∞ –≤ CRM"""
        ticket_data = {
            "user_id": user_id,
            "message": message,
            "source": "telegram_bot",
            "priority": "normal"
        }
        
        response = requests.post(
            f"{self.base_url}/tickets",
            headers={"Authorization": f"Bearer {self.api_key}"},
            json=ticket_data
        )
        
        return response.json()
    
    async def get_ticket_status(self, ticket_id):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ç–∏–∫–µ—Ç–∞"""
        response = requests.get(
            f"{self.base_url}/tickets/{ticket_id}",
            headers={"Authorization": f"Bearer {self.api_key}"}
        )
        
        return response.json()
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞
```python
class BotPlugin:
    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤"""
    
    def __init__(self, bot):
        self.bot = bot
        self.name = "Base Plugin"
        self.version = "1.0.0"
    
    async def on_message(self, message):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π"""
        pass
    
    async def on_command(self, command, args):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥"""
        pass
    
    def get_help(self):
        """–°–ø—Ä–∞–≤–∫–∞ –ø–æ –ø–ª–∞–≥–∏–Ω—É"""
        return f"–ü–ª–∞–≥–∏–Ω {self.name} –≤–µ—Ä—Å–∏–∏ {self.version}"

class WeatherPlugin(BotPlugin):
    """–ü–ª–∞–≥–∏–Ω –¥–ª—è –ø–æ–≥–æ–¥—ã"""
    
    def __init__(self, bot, api_key):
        super().__init__(bot)
        self.name = "Weather Plugin"
        self.api_key = api_key
    
    async def on_command(self, command, args):
        if command == "weather":
            city = args[0] if args else "–ú–æ—Å–∫–≤–∞"
            weather = await self.get_weather(city)
            return f"–ü–æ–≥–æ–¥–∞ –≤ {city}: {weather}"
    
    async def get_weather(self, city):
        # –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã
        return "20¬∞C, —Å–æ–ª–Ω–µ—á–Ω–æ"
```

–≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bot Platform –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –±–æ—Ç–æ–≤ —Å –±–æ–≥–∞—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω—É–∂–¥—ã.